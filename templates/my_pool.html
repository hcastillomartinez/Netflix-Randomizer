{% extends 'base.html'%}

{% block head %}
<style>
  body {background-color: powderblue;}
  </style>
{% endblock %}

{% block navbar%}
<a class="nav-item nav-link" href="/logout">Logout</a>
{% endblock %}

{% block body %}
<div class="container">
  <form style="padding-top: 1%;" method="POST" action="/my_pool">
    <div class="form-group">
      <label for="title">Enter a Title</label>
      <input type="text" class="form-control" name="title" id="title" placeholder="Ex: Finding Nemo" required>
      <br>
      <button type="submit" class="btn btn-primary btn-lg btn-block">Add Title to Pool</button>
      <a href="/my_pool/random"><button type="button" id="randButton" class="btn btn-secondary btn-lg btn-block">Give me a something to watch!</button></a>
      <br>
      {% if title %}
      <p style="text-align: center;">
        {{title}}
        <p style="text-align: center;">
          <a href="https://www.netflix.com/search?q={{title}}">
            Find on netflix
          </a>
          <a href="http://www.google.com/search?q={{title}}">
            General search for title
          </a>
        </p>
      </p>
      {% elif pool|length == 0  %}
      <p style="text-align: center;">
        No title in your pool!
      </p>
      {% endif%}
    </div>
  </form>
</div>

<div style="padding-top: 1%;"class="container">
  <table class="table table-striped table-dark" style="text-align: center;">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for title in pool %}
      <tr>
        <td>{{title}}</td>
        <td>
          <a href="/delete/title={{title}}">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}